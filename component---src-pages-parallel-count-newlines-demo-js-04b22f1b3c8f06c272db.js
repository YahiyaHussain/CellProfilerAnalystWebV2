(self.webpackChunkgatsby_test=self.webpackChunkgatsby_test||[]).push([[7761],{80981:function(e,n,r){"use strict";r.r(n);var o=r(92137),t=r(87757),a=r.n(t),c=r(67294),i=r(49995),s=r(20638),l=r(76544),u=r(80838),f=r(80453);n.default=function(){var e=c.useState(!0),n=e[0],r=e[1],t=c.useState(!0),p=t[0],m=t[1],d=function(){var e=(0,o.Z)(a().mark((function e(n){var r,t,c,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=n.target.files[0])){e.next=3;break}return e.abrupt("return");case 3:return console.log("file found:",r),t=function(e){return new Promise((function(n){for(var o=[],t=0,a=1024*e*1024,c=navigator.hardwareConcurrency,i=Math.floor(r.size/a)+1,s=Array(c).fill(null).map((function(e){return[]})),l=0;l<i;l++){var u=Math.floor(l/i*c),f=l*a,p={startIndex:f,stopIndex:f+a};s[u=u<c?u:c-1].push(p)}console.log(s);for(var m=function(e){var a=e,i=new Worker("../newlineWorker.js");i.addEventListener("error",(function(e){console.log("["+a+"] Error",e.message,e)}));i.addEventListener("message",(function r(a){if(i.removeEventListener("message",r),i.terminate(),t++,o[e]=new Uint32Array(a.data),t===c){o.reduce((function(e,n){return e+n.length}),0);for(var s=[],l=0;l<o.length;l++)for(var u=0;u<o[l].length;u++)s.push(o[l][u]);n()}})),i.postMessage({file:r,slices:s[e]})},d=0;d<c;d++)m(d)}))},c=function(){var e=(0,o.Z)(a().mark((function e(n){var o,t,c,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=1024*n*1024,console.log("chunking by mb: "+n),t=[],performance.now(),c=0;c<r.size;c+=o)i=new Promise((function(e){var n=c,t=new FileReader,a=r.slice(n,n+o),i=[];t.onload=function(){for(var r=new Uint8Array(t.result),o=0;o<r.length;o++)10===r[o]&&i.push(n+o);e(i)},t.readAsArrayBuffer(a)})),t.push(i);return e.abrupt("return",Promise.all(t).then((function(e){})));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i=performance.now(),e.next=9,c(24);case 9:return console.log("main Finished in: "+(performance.now()-i)/1e3+" seconds"),i=performance.now(),e.next=13,t(24);case 13:return console.log("worker Finished in: "+(performance.now()-i)/1e3+" seconds"),i=performance.now(),e.next=17,c(20);case 17:return console.log("main Finished in: "+(performance.now()-i)/1e3+" seconds"),i=performance.now(),e.next=21,t(20);case 21:return console.log("worker Finished in: "+(performance.now()-i)/1e3+" seconds"),i=performance.now(),e.next=25,c(16);case 25:return console.log("main Finished in: "+(performance.now()-i)/1e3+" seconds"),i=performance.now(),e.next=29,t(16);case 29:console.log("worker Finished in: "+(performance.now()-i)/1e3+" seconds");case 30:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=(0,s.Z)((function(e){return{root:{width:28,height:16,padding:0,display:"flex"},switchBase:{padding:2,color:e.palette.grey[500],"&$checked":{transform:"translateX(12px)",color:e.palette.common.white,"& + $track":{opacity:1,backgroundColor:e.palette.primary.main,borderColor:e.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:"none"},track:{border:"1px solid "+e.palette.grey[500],borderRadius:8,opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(l.Z);return c.createElement("div",null,c.createElement(i.Z,{"aria-label":"save",color:"primary",component:"label"},"upload csv",c.createElement("input",{type:"file",hidden:!0,onChange:d})),c.createElement(f.Z,{component:"div"},c.createElement(u.Z,{component:"label",container:!0,alignItems:"center",spacing:1},c.createElement(u.Z,{item:!0},"use per_object"),c.createElement(u.Z,{item:!0},c.createElement(h,{checked:n,onChange:function(){r(!n),m(!p),console.log(!n)},name:"checkedC"})),c.createElement(u.Z,{item:!0},"use giga data"))))}}}]);
//# sourceMappingURL=component---src-pages-parallel-count-newlines-demo-js-04b22f1b3c8f06c272db.js.map